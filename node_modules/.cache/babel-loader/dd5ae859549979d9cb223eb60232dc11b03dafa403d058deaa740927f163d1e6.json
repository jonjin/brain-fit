{"ast":null,"code":"import React,{useState}from'react';import{VStack,Heading,Text,FormControl,FormLabel,Input,Switch,Button,useToast,Divider,Box}from'@chakra-ui/react';import useLocalStorage from'../hooks/useLocalStorage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=_ref=>{var _user$name,_user$age$toString,_user$age;let{user,onProfileUpdate}=_ref;const toast=useToast();const[notifications,setNotifications]=useLocalStorage('brainFitNotifications',true);const[offlineMode,setOfflineMode]=useLocalStorage('brainFitOfflineMode',true);const[name,setName]=useState((_user$name=user===null||user===void 0?void 0:user.name)!==null&&_user$name!==void 0?_user$name:'');const[age,setAge]=useState((_user$age$toString=user===null||user===void 0?void 0:(_user$age=user.age)===null||_user$age===void 0?void 0:_user$age.toString())!==null&&_user$age$toString!==void 0?_user$age$toString:'');const handleSaveProfile=()=>{var _user$id;const ageNumber=Number(age);if(!name||Number.isNaN(ageNumber)){toast({title:'请填写完整信息',status:'warning',duration:2000});return;}onProfileUpdate({id:(_user$id=user===null||user===void 0?void 0:user.id)!==null&&_user$id!==void 0?_user$id:'user-001',name,age:ageNumber});toast({title:'资料已更新',status:'success',duration:2000});};const handleResetData=()=>{localStorage.removeItem('brainFitUserData');toast({title:'本地数据已清除',description:'重新登录或创建新档案后继续使用',status:'info',duration:3000});};return/*#__PURE__*/_jsxs(VStack,{spacing:6,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"\\u504F\\u597D\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",children:\"\\u914D\\u7F6E\\u8D26\\u53F7\\u4E0E\\u8BAD\\u7EC3\\u504F\\u597D\\uFF0CBrainFit \\u5C06\\u6839\\u636E\\u60A8\\u7684\\u8BBE\\u7F6E\\u8C03\\u6574\\u8BA4\\u77E5\\u8BAD\\u7EC3\\u8282\\u594F\\u3002\"}),/*#__PURE__*/_jsxs(Box,{bg:\"white\",p:4,rounded:\"lg\",shadow:\"sm\",children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:4,children:\"\\u4E2A\\u4EBA\\u8D44\\u6599\"}),/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{fontSize:\"sm\",children:\"\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(Input,{value:name,onChange:event=>setName(event.target.value),placeholder:\"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\"})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{fontSize:\"sm\",children:\"\\u5E74\\u9F84\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",value:age,onChange:event=>setAge(event.target.value),placeholder:\"\\u8BF7\\u8F93\\u5165\\u5E74\\u9F84\"})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",onClick:handleSaveProfile,children:\"\\u4FDD\\u5B58\\u8D44\\u6599\"})]})]}),/*#__PURE__*/_jsxs(Box,{bg:\"white\",p:4,rounded:\"lg\",shadow:\"sm\",children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:4,children:\"\\u529F\\u80FD\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsxs(FormControl,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"notifications\",mb:\"0\",fontSize:\"sm\",children:\"\\u8BAD\\u7EC3\\u63D0\\u9192\\u901A\\u77E5\"}),/*#__PURE__*/_jsx(Switch,{id:\"notifications\",isChecked:notifications,onChange:event=>setNotifications(event.target.checked)})]}),/*#__PURE__*/_jsxs(FormControl,{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"offline\",mb:\"0\",fontSize:\"sm\",children:\"\\u79BB\\u7EBF\\u6A21\\u5F0F\\uFF08\\u81EA\\u52A8\\u4FDD\\u5B58\\u672C\\u5730\\u6570\\u636E\\uFF09\"}),/*#__PURE__*/_jsx(Switch,{id:\"offline\",isChecked:offlineMode,onChange:event=>setOfflineMode(event.target.checked)})]})]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",colorScheme:\"red\",onClick:handleResetData,children:\"\\u6E05\\u9664\\u672C\\u5730\\u6570\\u636E\"})]});};export default/*#__PURE__*/React.memo(Settings);","map":{"version":3,"names":["React","useState","VStack","Heading","Text","FormControl","FormLabel","Input","Switch","Button","useToast","Divider","Box","useLocalStorage","jsx","_jsx","jsxs","_jsxs","Settings","_ref","_user$name","_user$age$toString","_user$age","user","onProfileUpdate","toast","notifications","setNotifications","offlineMode","setOfflineMode","name","setName","age","setAge","toString","handleSaveProfile","_user$id","ageNumber","Number","isNaN","title","status","duration","id","handleResetData","localStorage","removeItem","description","spacing","align","children","size","fontSize","color","bg","p","rounded","shadow","mb","value","onChange","event","target","placeholder","type","colorScheme","onClick","display","alignItems","justifyContent","htmlFor","isChecked","checked","variant","memo"],"sources":["/Users/apple-dev/Desktop/test3/brain-fit/src/pages/Settings.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  VStack,\n  Heading,\n  Text,\n  FormControl,\n  FormLabel,\n  Input,\n  Switch,\n  Button,\n  useToast,\n  Divider,\n  Box,\n} from '@chakra-ui/react';\nimport useLocalStorage from '../hooks/useLocalStorage';\n\ninterface SettingsProps {\n  user: {\n    id: string;\n    name: string;\n    age: number;\n  } | null;\n  onProfileUpdate: (payload: { id: string; name: string; age: number }) => void;\n}\n\nconst Settings: React.FC<SettingsProps> = ({ user, onProfileUpdate }) => {\n  const toast = useToast();\n  const [notifications, setNotifications] = useLocalStorage('brainFitNotifications', true);\n  const [offlineMode, setOfflineMode] = useLocalStorage('brainFitOfflineMode', true);\n\n  const [name, setName] = useState(user?.name ?? '');\n  const [age, setAge] = useState(user?.age?.toString() ?? '');\n\n  const handleSaveProfile = () => {\n    const ageNumber = Number(age);\n    if (!name || Number.isNaN(ageNumber)) {\n      toast({\n        title: '请填写完整信息',\n        status: 'warning',\n        duration: 2000,\n      });\n      return;\n    }\n\n    onProfileUpdate({\n      id: user?.id ?? 'user-001',\n      name,\n      age: ageNumber,\n    });\n\n    toast({\n      title: '资料已更新',\n      status: 'success',\n      duration: 2000,\n    });\n  };\n\n  const handleResetData = () => {\n    localStorage.removeItem('brainFitUserData');\n    toast({\n      title: '本地数据已清除',\n      description: '重新登录或创建新档案后继续使用',\n      status: 'info',\n      duration: 3000,\n    });\n  };\n\n  return (\n    <VStack spacing={6} align=\"stretch\">\n      <Heading size=\"md\">偏好设置</Heading>\n      <Text fontSize=\"sm\" color=\"gray.600\">\n        配置账号与训练偏好，BrainFit 将根据您的设置调整认知训练节奏。\n      </Text>\n\n      <Box bg=\"white\" p={4} rounded=\"lg\" shadow=\"sm\">\n        <Heading size=\"sm\" mb={4}>\n          个人资料\n        </Heading>\n        <VStack spacing={4} align=\"stretch\">\n          <FormControl>\n            <FormLabel fontSize=\"sm\">姓名</FormLabel>\n            <Input value={name} onChange={(event) => setName(event.target.value)} placeholder=\"请输入姓名\" />\n          </FormControl>\n          <FormControl>\n            <FormLabel fontSize=\"sm\">年龄</FormLabel>\n            <Input\n              type=\"number\"\n              value={age}\n              onChange={(event) => setAge(event.target.value)}\n              placeholder=\"请输入年龄\"\n            />\n          </FormControl>\n          <Button colorScheme=\"blue\" onClick={handleSaveProfile}>\n            保存资料\n          </Button>\n        </VStack>\n      </Box>\n\n      <Box bg=\"white\" p={4} rounded=\"lg\" shadow=\"sm\">\n        <Heading size=\"sm\" mb={4}>\n          功能设置\n        </Heading>\n        <VStack spacing={4} align=\"stretch\">\n          <FormControl display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n            <FormLabel htmlFor=\"notifications\" mb=\"0\" fontSize=\"sm\">\n              训练提醒通知\n            </FormLabel>\n            <Switch\n              id=\"notifications\"\n              isChecked={notifications}\n              onChange={(event) => setNotifications(event.target.checked)}\n            />\n          </FormControl>\n          <FormControl display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n            <FormLabel htmlFor=\"offline\" mb=\"0\" fontSize=\"sm\">\n              离线模式（自动保存本地数据）\n            </FormLabel>\n            <Switch id=\"offline\" isChecked={offlineMode} onChange={(event) => setOfflineMode(event.target.checked)} />\n          </FormControl>\n        </VStack>\n      </Box>\n\n      <Divider />\n\n      <Button variant=\"outline\" colorScheme=\"red\" onClick={handleResetData}>\n        清除本地数据\n      </Button>\n    </VStack>\n  );\n};\n\nexport default React.memo(Settings);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OACEC,MAAM,CACNC,OAAO,CACPC,IAAI,CACJC,WAAW,CACXC,SAAS,CACTC,KAAK,CACLC,MAAM,CACNC,MAAM,CACNC,QAAQ,CACRC,OAAO,CACPC,GAAG,KACE,kBAAkB,CACzB,MAAO,CAAAC,eAAe,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAWvD,KAAM,CAAAC,QAAiC,CAAGC,IAAA,EAA+B,KAAAC,UAAA,CAAAC,kBAAA,CAAAC,SAAA,IAA9B,CAAEC,IAAI,CAAEC,eAAgB,CAAC,CAAAL,IAAA,CAClE,KAAM,CAAAM,KAAK,CAAGf,QAAQ,CAAC,CAAC,CACxB,KAAM,CAACgB,aAAa,CAAEC,gBAAgB,CAAC,CAAGd,eAAe,CAAC,uBAAuB,CAAE,IAAI,CAAC,CACxF,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,eAAe,CAAC,qBAAqB,CAAE,IAAI,CAAC,CAElF,KAAM,CAACiB,IAAI,CAAEC,OAAO,CAAC,CAAG9B,QAAQ,EAAAmB,UAAA,CAACG,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,IAAI,UAAAV,UAAA,UAAAA,UAAA,CAAI,EAAE,CAAC,CAClD,KAAM,CAACY,GAAG,CAAEC,MAAM,CAAC,CAAGhC,QAAQ,EAAAoB,kBAAA,CAACE,IAAI,SAAJA,IAAI,kBAAAD,SAAA,CAAJC,IAAI,CAAES,GAAG,UAAAV,SAAA,iBAATA,SAAA,CAAWY,QAAQ,CAAC,CAAC,UAAAb,kBAAA,UAAAA,kBAAA,CAAI,EAAE,CAAC,CAE3D,KAAM,CAAAc,iBAAiB,CAAGA,CAAA,GAAM,KAAAC,QAAA,CAC9B,KAAM,CAAAC,SAAS,CAAGC,MAAM,CAACN,GAAG,CAAC,CAC7B,GAAI,CAACF,IAAI,EAAIQ,MAAM,CAACC,KAAK,CAACF,SAAS,CAAC,CAAE,CACpCZ,KAAK,CAAC,CACJe,KAAK,CAAE,SAAS,CAChBC,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,IACZ,CAAC,CAAC,CACF,OACF,CAEAlB,eAAe,CAAC,CACdmB,EAAE,EAAAP,QAAA,CAAEb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,EAAE,UAAAP,QAAA,UAAAA,QAAA,CAAI,UAAU,CAC1BN,IAAI,CACJE,GAAG,CAAEK,SACP,CAAC,CAAC,CAEFZ,KAAK,CAAC,CACJe,KAAK,CAAE,OAAO,CACdC,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,IACZ,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAE,eAAe,CAAGA,CAAA,GAAM,CAC5BC,YAAY,CAACC,UAAU,CAAC,kBAAkB,CAAC,CAC3CrB,KAAK,CAAC,CACJe,KAAK,CAAE,SAAS,CAChBO,WAAW,CAAE,iBAAiB,CAC9BN,MAAM,CAAE,MAAM,CACdC,QAAQ,CAAE,IACZ,CAAC,CAAC,CACJ,CAAC,CAED,mBACEzB,KAAA,CAACf,MAAM,EAAC8C,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,SAAS,CAAAC,QAAA,eACjCnC,IAAA,CAACZ,OAAO,EAACgD,IAAI,CAAC,IAAI,CAAAD,QAAA,CAAC,0BAAI,CAAS,CAAC,cACjCnC,IAAA,CAACX,IAAI,EAACgD,QAAQ,CAAC,IAAI,CAACC,KAAK,CAAC,UAAU,CAAAH,QAAA,CAAC,uKAErC,CAAM,CAAC,cAEPjC,KAAA,CAACL,GAAG,EAAC0C,EAAE,CAAC,OAAO,CAACC,CAAC,CAAE,CAAE,CAACC,OAAO,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAAAP,QAAA,eAC5CnC,IAAA,CAACZ,OAAO,EAACgD,IAAI,CAAC,IAAI,CAACO,EAAE,CAAE,CAAE,CAAAR,QAAA,CAAC,0BAE1B,CAAS,CAAC,cACVjC,KAAA,CAACf,MAAM,EAAC8C,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,SAAS,CAAAC,QAAA,eACjCjC,KAAA,CAACZ,WAAW,EAAA6C,QAAA,eACVnC,IAAA,CAACT,SAAS,EAAC8C,QAAQ,CAAC,IAAI,CAAAF,QAAA,CAAC,cAAE,CAAW,CAAC,cACvCnC,IAAA,CAACR,KAAK,EAACoD,KAAK,CAAE7B,IAAK,CAAC8B,QAAQ,CAAGC,KAAK,EAAK9B,OAAO,CAAC8B,KAAK,CAACC,MAAM,CAACH,KAAK,CAAE,CAACI,WAAW,CAAC,gCAAO,CAAE,CAAC,EACjF,CAAC,cACd9C,KAAA,CAACZ,WAAW,EAAA6C,QAAA,eACVnC,IAAA,CAACT,SAAS,EAAC8C,QAAQ,CAAC,IAAI,CAAAF,QAAA,CAAC,cAAE,CAAW,CAAC,cACvCnC,IAAA,CAACR,KAAK,EACJyD,IAAI,CAAC,QAAQ,CACbL,KAAK,CAAE3B,GAAI,CACX4B,QAAQ,CAAGC,KAAK,EAAK5B,MAAM,CAAC4B,KAAK,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDI,WAAW,CAAC,gCAAO,CACpB,CAAC,EACS,CAAC,cACdhD,IAAA,CAACN,MAAM,EAACwD,WAAW,CAAC,MAAM,CAACC,OAAO,CAAE/B,iBAAkB,CAAAe,QAAA,CAAC,0BAEvD,CAAQ,CAAC,EACH,CAAC,EACN,CAAC,cAENjC,KAAA,CAACL,GAAG,EAAC0C,EAAE,CAAC,OAAO,CAACC,CAAC,CAAE,CAAE,CAACC,OAAO,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAAAP,QAAA,eAC5CnC,IAAA,CAACZ,OAAO,EAACgD,IAAI,CAAC,IAAI,CAACO,EAAE,CAAE,CAAE,CAAAR,QAAA,CAAC,0BAE1B,CAAS,CAAC,cACVjC,KAAA,CAACf,MAAM,EAAC8C,OAAO,CAAE,CAAE,CAACC,KAAK,CAAC,SAAS,CAAAC,QAAA,eACjCjC,KAAA,CAACZ,WAAW,EAAC8D,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAAnB,QAAA,eAC5EnC,IAAA,CAACT,SAAS,EAACgE,OAAO,CAAC,eAAe,CAACZ,EAAE,CAAC,GAAG,CAACN,QAAQ,CAAC,IAAI,CAAAF,QAAA,CAAC,sCAExD,CAAW,CAAC,cACZnC,IAAA,CAACP,MAAM,EACLmC,EAAE,CAAC,eAAe,CAClB4B,SAAS,CAAE7C,aAAc,CACzBkC,QAAQ,CAAGC,KAAK,EAAKlC,gBAAgB,CAACkC,KAAK,CAACC,MAAM,CAACU,OAAO,CAAE,CAC7D,CAAC,EACS,CAAC,cACdvD,KAAA,CAACZ,WAAW,EAAC8D,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAAnB,QAAA,eAC5EnC,IAAA,CAACT,SAAS,EAACgE,OAAO,CAAC,SAAS,CAACZ,EAAE,CAAC,GAAG,CAACN,QAAQ,CAAC,IAAI,CAAAF,QAAA,CAAC,sFAElD,CAAW,CAAC,cACZnC,IAAA,CAACP,MAAM,EAACmC,EAAE,CAAC,SAAS,CAAC4B,SAAS,CAAE3C,WAAY,CAACgC,QAAQ,CAAGC,KAAK,EAAKhC,cAAc,CAACgC,KAAK,CAACC,MAAM,CAACU,OAAO,CAAE,CAAE,CAAC,EAC/F,CAAC,EACR,CAAC,EACN,CAAC,cAENzD,IAAA,CAACJ,OAAO,GAAE,CAAC,cAEXI,IAAA,CAACN,MAAM,EAACgE,OAAO,CAAC,SAAS,CAACR,WAAW,CAAC,KAAK,CAACC,OAAO,CAAEtB,eAAgB,CAAAM,QAAA,CAAC,sCAEtE,CAAQ,CAAC,EACH,CAAC,CAEb,CAAC,CAED,2BAAelD,KAAK,CAAC0E,IAAI,CAACxD,QAAQ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}